# .github/settings.yml

repository:
  # --- Pull Requests Section (Image 2) ---
  
  # Allow merge commits
  allow_merge_commit: true
  
  # Allow squash merging
  allow_squash_merge: true
  
  # Allow rebase merging
  allow_rebase_merge: true
  
  # Always suggest updating pull request branches
  allow_update_branch: true
  
  # Allow auto-merge
  allow_auto_merge: true
  
  # Automatically delete head branches
  delete_branch_on_merge: true

branches:
  - name: main # Change this to 'master' if your default branch is different
    protection:
      # --- Protect matching branches Section (Image 1) ---
      
      # Require a pull request before merging
      required_pull_request_reviews:
        # Require approvals -> Required number of approvals before merging: 1
        required_approving_review_count: 1
        
        # Dismiss stale pull request approvals when new commits are pushed (Unchecked)
        dismiss_stale_reviews: false
        
        # Require review from Code Owners (Checked)
        require_code_owner_reviews: true
      
      # Require status checks to pass before merging
      required_status_checks:
        # Require branches to be up to date before merging (Checked)
        strict: true
        # Status checks that are required
        contexts: 
          - "lint"
          - "test"

      # Do not allow bypassing the above settings (Unchecked)
      enforce_admins: false

      # The following are unchecked in your screenshot, so we explicitly disable them
      # or leave them out to rely on the default false state:
      required_linear_history: false
      allow_force_pushes: false
      allow_deletions: false